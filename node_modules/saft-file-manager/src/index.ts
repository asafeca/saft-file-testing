import { SaftFileParser } from './domain/SaftFileParser';
import { SaftFileParserImpl } from './domain/SaftFileParserImpl';
import { ErrorDetail } from './domain/models/detalheErro';
import * as fs from 'fs'

export function parseFile(content: Uint8Array): Map<string, ErrorDetail> {
  const dataView = new Uint8Array(content);
  const parser: SaftFileParser = new SaftFileParserImpl();

  return parser.parse(dataView, 11);
}


//const file = fs.readFileSync(`${__dirname}/assets/saft.xml`);

//const result = new SaftFileParserImpl().parse(file)




